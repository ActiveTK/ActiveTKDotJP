/*!
 * archive-today.blocker.js / EndPoint.js
 * (c) 2023 ActiveTK. <+profile.activetk.jp>
 * Released under the MIT license
 */
"use strict";!function(e,t){e.endpointjs=function(...t){let r={Browser:{},Headers:{}};r.UserAgent=navigator.userAgent,fetch("https://project.activetk.jp/endpoint/").then(e=>e.json()).then(e=>{r.PublicIP=e.PublicIP,r.Host=e.Host,r.RealIP=e.RealIP,r.IsItTor=e.IsItTor,r.Headers.UserAgent=e.UserAgent,r.Headers.AcceptLanguage=e.AcceptLang,r.Headers.AcceptEncoding=e.AcceptEncode,r.Headers.UserAgentClientHints=e.UserAgentClientHints}).then(()=>{function n(){r.Browser.CodeName=location.appCodeName,r.Browser.Name=navigator.appName,r.Browser.Version=navigator.appVersion,r.Browser.Language=navigator.language,r.Browser.Platform=navigator.platform,r.Browser.Referrer=document.referrer,r.Browser.ScreenWidth=screen.width,r.Browser.ScreenHeight=screen.height,r.Browser.ScreenColorDepth=screen.colorDepth+"bit",r.Browser.ViewPortWidth=e.innerWidth,r.Browser.ViewPortHeight=e.innerHeight,r.Browser.DevicePixelRatio=e.devicePixelRatio,r.Browser.HasPointer=navigator.pointerEnabled,r.Browser.MaxTouchPoints=navigator.maxTouchPoints,function(){for(let e=0;e<t.length;e++)"function"==typeof t[e]?t[e](r):console.error(e+"番目の引数に関数以外が指定されました。")}()}if(e.RTCPeerConnection=e.RTCPeerConnection||e.mozRTCPeerConnection||e.webkitRTCPeerConnection,!e.RTCPeerConnection)return void n();let o=new RTCPeerConnection({iceServers:[]}),i=function(){};o.createDataChannel(""),o.createOffer(o.setLocalDescription.bind(o),i),o.onicecandidate=function(e){if(e&&e.candidate&&e.candidate.candidate){r.WebRTCInfo=e.candidate.candidate;try{r.PrivateIPaddress=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e.candidate.candidate)[1]}catch(e){}o.onicecandidate=i}},n()})}}(window),function(e,t){"true"!==localStorage.getItem("_accepted_client")&&e.endpointjs(function(t){let r=e.CheckClientLisk(t);r>2?e.BlockRendering(t.PublicIP,t.Host,t.PrivateIPaddress,r):localStorage.setItem("_accepted_client","true")}),e.CheckClientLisk=function(e){let t=0,r=e.Host;return"contaboserver.net"===(r.indexOf("://")>-1?r.split("/")[2]:r.split("/")[0]).split(":")[0].split("?")[0].replace("www.","")&&t++,1920===e.Browser.ScreenWidth&&1080===e.Browser.ScreenHeight&&"24bit"===e.Browser.ScreenColorDepth&&1024===e.Browser.ViewPortWidth&&768===e.Browser.ViewPortHeight&&1===e.Browser.DevicePixelRatio&&0===e.Browser.MaxTouchPoints&&t++,e.UserAgent===e.Headers.UserAgent&&"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36"!==e.Headers.UserAgent||t++,"en-US,en;q=0.9"===e.AcceptLanguage&&t++,e.Headers.UserAgentClientHints||t++,t},e.BlockRendering=function(e,t,r,n){var o=document.createElement("div");o.style="position:fixed;top:0px;left:0px;width:100%;height:"+document.documentElement.scrollHeight+"px;z-index:256;color:#000000;background-color:#ffffff;",o.innerHTML='<br><h1 class="text-3xl font-bold" align="center"><span style="background:linear-gradient(transparent 70%,#66CCFF 0%);">Archive.today is not accepted</span></h1><div class="py-6 sm:py-8 lg:py-12"><div class="mx-auto max-w-screen-md px-4 md:px-8"><p class="mb-6 sm:text-lg md:mb-8">当サイトでは、Archive.todayを利用したアーカイブの作成をお断りしております。<br>Webアーカイブを作成したい場合には、代替として darkweb-archive.activetk.jp や web.archive.org をお使い下さい。</p><p class="mb-6 sm:text-lg md:mb-8">archive-today.blocker.js v20230927 - (c) 2023 ActiveTK.<br>IP: '+e+", Host: "+t+", Private: "+r+", Score: "+n+";</p>",document.body.appendChild(o)}}(window);
